{% extends 'FreeeLight/Resource/template/admin/config_frame.twig' %}

{% block config_header %}
    {% block title %}Freee プラグイン Light{% endblock %}
    {% block sub_title %}{% endblock %}

    {% form_theme form 'Form/bootstrap_3_horizontal_layout.html.twig' %}

    {% block stylesheet %}
        {{ parent() }}
    {% endblock stylesheet %}
    {% block javascript %}
        {{ parent() }}
    {% endblock javascript %}
{% endblock config_header %}

{% block config_main %}
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <form class="form-horizontal" method="post" action="{{ url('plugin_FreeeLight_config') }}" {{ form_enctype(form) }}>
                {{ form_widget(form._token) }}
                <div class="form-group {% if form.client_id.vars.errors|length %} has-error {% endif %}">
                    <label class="col-sm-4 control-label">Client ID <span class="text-danger">*</span></label>
                    <div class="col-sm-8">
                        {{ form_widget(form.client_id) }}
                        {{ form_errors(form.client_id) }}
                    </div>
                </div>
                <div class="form-group {% if form.client_secret.vars.errors|length %} has-error {% endif %}">
                    <label class="col-sm-4 control-label">Client Secret <span class="text-danger">*</span></label>
                    <div class="col-sm-8">
                        {{ form_widget(form.client_secret, {'type': 'password'}) }}
                        {{ form_errors(form.client_secret) }}
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-6">
                        <button type="submit" class="btn btn-primary btn-lg btn-block">次へ</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <li><a href="{{ constant('Plugin\\FreeeLight\\Entity\\FreeeOAuth2::AUTHORIZE_ROUTE') }}?response_type=code&client_id={{Freee.client_id}}&redirect_uri={{ redirect_uri|url_encode() }}">freee API 認証</a></li>

{% endblock config_main %}
